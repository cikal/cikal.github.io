<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cikal.github.io</title>
  <meta name="author" content="ian cikal">
  <meta name="description" content="Sample get image from browser">
  <style>body {padding: 0;margin: 0;max-width: 400px;margin: auto;text-align: center;}</style>
</head>

<body>
  <p>Sample get image from browser</p>
  <video id="video" width="360" height="360"></video>
  <button id="snap">Snap Visitor Photo</button>
  <p><input type="checkbox" name="" id="forceDownload"> Force Download after snap</p>
  <canvas id="canvas" width="360" height="360"></canvas>
  <script>
  var video=document.getElementById("video");navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){video.srcObject=e,video.play()});var canvas=document.getElementById("canvas"),context=canvas.getContext("2d"),forceDownload=(video=document.getElementById("video"),document.getElementById("forceDownload"));function do_save(){var e=canvas.toDataURL("image/png").replace("image/png","image/octet-stream"),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","contoh.png"),document.body.appendChild(t),t.click()}document.getElementById("snap").addEventListener("click",function(){1==forceDownload.checked?do_save():context.drawImage(video,0,0,360,360)}),canvas.addEventListener("click",function(e){e.preventDefault(),confirm("Download visitor photo?")?do_save():console.log("tidak")});
  </script>
</body>

</html>